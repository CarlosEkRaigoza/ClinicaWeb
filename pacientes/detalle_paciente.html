<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detalle del Paciente</title>
  <link rel="stylesheet" href="../agenda/css/styles.css">
  <link rel="stylesheet" href="css/detalle_paciente.css">
</head>
<body>
  <header>
    <h1>Cl√≠nica de Atenci√≥n Psicol√≥gica</h1>
  </header>

  <main class="detalle-container">
    <!-- Panel izquierdo: Documentaci√≥n -->
    <div class="panel documentacion-container">
      <div class="header-with-back">
        <button class="btn-back" onclick="window.location.href='pacientes.html'">‚Üê Volver</button>
        <h2>Documentaci√≥n</h2>
      </div>
      
      <div class="document-actions">
        <button class="btn-action" id="btnNuevoDocumento">üìÑ Nuevo Documento</button>
        <input type="file" id="fileUpload" style="display: none;" accept=".pdf,.doc,.docx,.txt,.jpg,.png">
      </div>
      
      <div class="checklist">
        <ul class="documentos-list">
          <li>
            <input type="checkbox" id="doc1" data-doc="entrevista">
            <label for="doc1" class="documento-titulo">Entrevista inicial</label>
            <span class="documento-status">‚úî Completado</span>
          </li>
          <li>
            <input type="checkbox" id="doc2" data-doc="historial">
            <label for="doc2" class="documento-titulo">Historial m√©dico</label>
            <span class="documento-status">Pendiente</span>
          </li>
          <li>
            <input type="checkbox" id="doc3" data-doc="consentimiento">
            <label for="doc3" class="documento-titulo">Consentimiento informado</label>
            <span class="documento-status">‚úî Completado</span>
          </li>
        </ul>
      </div>
      
      <div class="documento-view" id="documentoView">
        <div class="documento-header">
          <h3 id="documentoTitulo"></h3>
          <button class="btn-minimize" id="minimizarDoc">‚Üê Volver a lista</button>
        </div>
        <div class="documento-content" id="documentoContenido">
          <!-- Contenido del documento se cargar√° aqu√≠ -->
        </div>
      </div>
    </div>

    <!-- Panel derecho: Informaci√≥n del paciente -->
    <div class="panel paciente-info-container">
      <div class="paciente-header">
        <h2 id="paciente-nombre">Mar√≠a L√≥pez</h2>
        <div class="paciente-actions">
          <select id="cambiarEstado" class="estado-select">
            <option value="activo">Activo</option>
            <option value="espera">En espera</option>
            <option value="archivado">Archivado</option>
          </select>
          <button class="btn-edit" id="btnEditarPaciente">‚úèÔ∏è Editar</button>
        </div>
      </div>
      
      <div class="info-section">
        <h3>Informaci√≥n b√°sica</h3>
        <p><strong>Email:</strong> <span id="paciente-email">maria.lopez@example.com</span></p>
        <p><strong>Celular:</strong> <span id="paciente-telefono">555-1234-567</span></p>
        <p><strong>Servicio:</strong> <span id="paciente-servicio">Psicodiagn√≥stico</span></p>
        <p><strong>Terapeuta:</strong> <span id="paciente-terapeuta">Ana Garc√≠a</span></p>
        <p><strong>Fecha de registro:</strong> <span id="paciente-fecha">15/03/2024</span></p>
      </div>
      
      <div class="info-section">
        <h3>Sesiones</h3>
        <table class="sesiones-table">
          <tr>
            <td>Sesiones concluidas</td>
            <td>4</td>
          </tr>
          <tr>
            <td>Sesiones restantes</td>
            <td>6</td>
          </tr>
          <tr>
            <td>Faltas justificadas</td>
            <td>0</td>
          </tr>
          <tr>
            <td>Faltas injustificadas</td>
            <td>1</td>
          </tr>
          <tr>
            <td>Total de sesiones</td>
            <td>10</td>
          </tr>
        </table>
      </div>
      
      <div class="info-section">
        <h3>Notas importantes</h3>
        <div class="notas-container" id="notasPaciente">
          <p>Paciente muestra buena respuesta al tratamiento inicial.</p>
          <p>Requiere seguimiento semanal.</p>
        </div>
      </div>
    </div>
  </main>

  <!-- Modal para editar paciente -->
  <div class="modal" id="modalEditarPaciente">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h2>Editar Paciente</h2>
      <form id="formEditarPaciente">
        <div class="form-group">
          <label for="edit-nombre">Nombre completo</label>
          <input type="text" id="edit-nombre" required>
        </div>
        <div class="form-group">
          <label for="edit-email">Email</label>
          <input type="email" id="edit-email" required>
        </div>
        <div class="form-group">
          <label for="edit-telefono">Tel√©fono</label>
          <input type="tel" id="edit-telefono">
        </div>
        <div class="form-group">
          <label for="edit-servicio">Tipo de servicio</label>
          <select id="edit-servicio" required>
            <option value="Psicodiagn√≥stico">Psicodiagn√≥stico</option>
            <option value="Terapia Individual">Terapia Individual</option>
          </select>
        </div>
        <div class="form-group">
          <label for="edit-terapeuta">Terapeuta asignado</label>
          <select id="edit-terapeuta" required>
            <option value="Ana Garc√≠a">Ana Garc√≠a</option>
            <option value="Carlos M√©ndez">Carlos M√©ndez</option>
          </select>
        </div>
        <div class="form-actions">
          <button type="submit" class="btn-primary">Guardar cambios</button>
          <button type="button" class="btn-cancel close-modal">Cancelar</button>
        </div>
      </form>
    </div>
  </div>

  <script src="js/detalle_paciente.js"></script>
</body>
</html>